<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="style/master.css">
</head>

<body>
    <div class="container">
        <div class="row">
            <h1 id="moto">0 notes</h1>
            <input type="text" id="inp" class="col-12">
            <button id="add" class="display-1"> + </button>
            <button id="delAll" class="display-1"> delete ALL </button>
            <section class="col-12 row justify-content-center align-content-center" id="nots"></section>
        </div>


    </div>
    <script>
        let counter = 0
        document.getElementById('add').addEventListener('click', () => {
            let _inp = document.getElementById('inp')
            if ((_inp.value) != '') {
                let temp = document.createElement('div')
                temp.classList.add('box', 'm-2', 'row')
                temp.innerHTML = `  <h2> ${_inp.value}</h2 >
           <span onclick='_edit(this)' >edit</span>
           <span onclick='_del(this)' class='p-3 h3'>X</span>
           <input type='checkbox'>
           `
                document.getElementById('nots').appendChild(temp)
                _inp.value = null
                _inp.focus()
                counter++
                printNote()
                document.getElementById('moto').innerHTML = counter + "notes added!"
            } else {
                alert('pooor kon....!!!')
            }
        })

        function _del(s) {
            s.parentElement.remove();
            counter--

        }

        function _edit(s) {
            s.previousElementSibling.setAttribute('contenteditable', true)
        }


        function printNote() {
            document.getElementById('moto').innerHTML = counter + "notes added!"
        }

        document.getElementById('delAll').addEventListener('click', function () {
            let box = document.querySelectorAll('.box')          
            box.forEach((val) => {
                
                let _child = val.children
                if (
                    _child[3].checked
                ) {
                    val.remove()
                    counter--
                    printNote()
                }
            })
        })
    </script>
</body>

</html>